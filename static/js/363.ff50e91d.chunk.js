"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[363],{70712:(e,a,s)=>{s.d(a,{k:()=>i,w:()=>r});var n=s(66220);const t=(0,s(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),o=(0,n.aU)(t),i=async e=>{let{id:a,username:s,emoFiCoins:t}=e;try{await(0,n.BN)((0,n.H9)(o,"users",a),{id:a,username:s,emoFiCoins:t})}catch(i){console.error("Error createUser: ",i)}},r=async e=>{try{let a;const s=(0,n.H9)(o,"users",e),t=await(0,n.x7)(s);return t.exists()&&(a=t.data()),a}catch(a){console.error("Error getUser: ",a)}}},10363:(e,a,s)=>{s.r(a),s.d(a,{HomePage:()=>m});var n=s(9950),t=s(63247);const o=(0,s(24451).j)((()=>Promise.all([s.e(712),s.e(841),s.e(211)]).then(s.bind(s,39211))),(e=>e.Play));var i=s(22238),r=s(70712),c=s(44414);function m(){const{user:e}=n.useContext(i.j8),{setUser:a}=n.useContext(i.LN);(0,n.useEffect)((()=>{s()}),[]);const s=async()=>{var s;const n=null===(s=window.Telegram)||void 0===s?void 0:s.WebApp;if(n&&!e){n.ready();const e=n.initDataUnsafe.user;if(e){a({id:e.id,username:"".concat(e.last_name," ").concat(e.first_name)});let s={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};const n=await(0,r.w)(s.id);n?s={...s,emoFiCoins:n.emoFiCoins}:await(0,r.k)(s),a(s)}}};return(0,c.jsx)(t.az,{id:"myCanvasContainer",children:(0,c.jsx)(o,{})})}}}]);