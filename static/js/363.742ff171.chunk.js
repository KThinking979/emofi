"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[363],{70712:(e,a,o)=>{o.d(a,{k:()=>t,w:()=>r});var s=o(66220);const n=(0,o(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),i=(0,s.aU)(n),t=async e=>{let{id:a,username:o,emoFiCoins:n}=e;try{console.log("Kai id ",a),console.log("Kai username ",o),console.log("Kai emoFiCoins ",n),await(0,s.BN)((0,s.H9)(i,"users",a),{id:a,username:o,emoFiCoins:n})}catch(t){console.error("Error createUser: ",t)}},r=async e=>{try{let a;const o=(0,s.H9)(i,"users",e),n=await(0,s.x7)(o);return n.exists()&&(a=n.data()),a}catch(a){console.error("Error getUser: ",a)}}},10363:(e,a,o)=>{o.r(a),o.d(a,{HomePage:()=>m});var s=o(9950),n=o(63247);const i=(0,o(24451).j)((()=>Promise.all([o.e(712),o.e(841),o.e(211)]).then(o.bind(o,39211))),(e=>e.Play));var t=o(22238),r=o(70712),c=o(44414);function m(){const{user:e}=s.useContext(t.j8),{setUser:a}=s.useContext(t.LN);(0,s.useEffect)((()=>{o()}),[]);const o=async()=>{var o;const s=null===(o=window.Telegram)||void 0===o?void 0:o.WebApp;if(s&&!e){s.ready();const e=s.initDataUnsafe.user;if(e){let o={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};console.log("Kai userData ",o);const s=await(0,r.w)(o.id);s?o={...o,emoFiCoins:s.emoFiCoins}:await(0,r.k)(o),a(o)}}};return(0,c.jsx)(n.az,{id:"myCanvasContainer",children:(0,c.jsx)(i,{})})}}}]);