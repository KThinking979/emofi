"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[257],{70712:(e,n,a)=>{a.d(n,{kg:()=>o,Y_:()=>s,wz:()=>c});var t=a(66220);const r=(0,a(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),i=(0,t.aU)(r),s=async()=>{try{let e;const n=(0,t.H9)(i,"configs","configs"),a=await(0,t.x7)(n);return a.exists()&&(e=a.data()),e}catch(e){console.error("Error getUser: ",e)}},o=async e=>{let{id:n,username:a,emoFiCoins:r}=e;try{await(0,t.BN)((0,t.H9)(i,"users","".concat(n)),{id:"".concat(n),username:a,emoFiCoins:r,language:"en",faceEmo:"S0",emojis:["S0"],anys:[],skills:[],cards:[],createdAt:new Date,updateAt:new Date})}catch(s){console.error("Error createUser: ",s)}},c=async e=>{try{let n;const a=(0,t.H9)(i,"users","".concat(e)),r=await(0,t.x7)(a);return r.exists()&&(n=r.data()),n}catch(n){console.error("Error getUser: ",n)}}},37257:(e,n,a)=>{a.r(n),a.d(n,{WalletPage:()=>T});var t=a(9950),r=a(76455),i=a(63247),s=a(61530),o=a(97681),c=a(58039),l=a(26306),d=a(44414);(0,c.R)((function(e,n){const{spacing:a="0.5rem",spacingX:r,spacingY:i,children:s,justify:c,direction:u,align:p,className:h,shouldWrapChildren:g,...f}=e,x=(0,t.useMemo)((()=>g?t.Children.map(s,((e,n)=>(0,d.jsx)(m,{children:e},n))):s),[s,g]);return(0,d.jsx)(l.B.div,{ref:n,className:(0,o.cx)("chakra-wrap",h),...f,children:(0,d.jsx)(l.B.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:c,alignItems:p,flexDirection:u,listStyleType:"none",gap:a,columnGap:r,rowGap:i,padding:"0"},children:x})})})).displayName="Wrap";var m=(0,c.R)((function(e,n){const{className:a,...t}=e;return(0,d.jsx)(l.B.li,{ref:n,__css:{display:"flex",alignItems:"flex-start"},className:(0,o.cx)("chakra-wrap__listitem",a),...t})}));m.displayName="WrapItem";var u=a(80221),[p,h]=(0,u.q)({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function g(e){var n;const a=e.split(" "),t=null!=(n=a[0])?n:"",r=a.length>1?a[a.length-1]:"";return t&&r?"".concat(t.charAt(0)).concat(r.charAt(0)):t.charAt(0)}function f(e){const{name:n,getInitials:a,...t}=e,r=h();return(0,d.jsx)(l.B.div,{role:"img","aria-label":n,...t,__css:r.label,children:n?null==a?void 0:a(n):null})}f.displayName="AvatarName";var x=e=>(0,d.jsxs)(l.B.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...e,children:[(0,d.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,d.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),j=a(35812);function v(e){const{src:n,srcSet:a,onError:r,onLoad:i,getInitials:s,name:o,borderRadius:c,loading:m,iconLabel:u,icon:p=(0,d.jsx)(x,{}),ignoreFallback:h,referrerPolicy:g,crossOrigin:v}=e,y=(0,j.l)({src:n,onError:r,crossOrigin:v,ignoreFallback:h});return!n||!("loaded"===y)?o?(0,d.jsx)(f,{className:"chakra-avatar__initials",getInitials:s,name:o}):(0,t.cloneElement)(p,{role:"img","aria-label":u}):(0,d.jsx)(l.B.img,{src:n,srcSet:a,alt:o,onLoad:i,referrerPolicy:g,crossOrigin:null!=v?v:void 0,className:"chakra-avatar__img",loading:m,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:c}})}v.displayName="AvatarImage";var y=a(66296),b=a(82867),w={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},_=(0,c.R)(((e,n)=>{const a=(0,y.o5)("Avatar",e),[r,i]=(0,t.useState)(!1),{src:s,srcSet:c,name:m,showBorder:u,borderRadius:h="full",onError:f,onLoad:j,getInitials:_=g,icon:C=(0,d.jsx)(x,{}),iconLabel:N=" avatar",loading:S,children:k,borderColor:B,ignoreFallback:I,crossOrigin:A,referrerPolicy:E,...L}=(0,b.MN)(e),W={borderRadius:h,borderWidth:u?"2px":void 0,...w,...a.container};return B&&(W.borderColor=B),(0,d.jsx)(l.B.span,{ref:n,...L,className:(0,o.cx)("chakra-avatar",e.className),"data-loaded":(0,o.sE)(r),__css:W,children:(0,d.jsxs)(p,{value:a,children:[(0,d.jsx)(v,{src:s,srcSet:c,loading:S,onLoad:(0,o.Hj)(j,(()=>{i(!0)})),onError:f,getInitials:_,name:m,borderRadius:h,icon:C,iconLabel:N,ignoreFallback:I,crossOrigin:A,referrerPolicy:E}),k]})})}));_.displayName="Avatar";var C=a(3731),N=a(34418),S=a(81374),k=a(22238),B=a(6365),I=a(42691),A=a(32119),E=a(93660),L=a(70712);let W=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const T=()=>{const{user:e}=(0,t.useContext)(k.j8);console.log("user ",e);const{setUser:n}=t.useContext(k.LN);(0,t.useEffect)((()=>{a(),(async()=>{var a;const t=null===(a=window.Telegram)||void 0===a?void 0:a.WebApp;if(t&&!e){t.ready();const e=t.initDataUnsafe.user;if(e){let a={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};const t=await(0,L.wz)(a.id);t?a={...a,emoFiCoins:t.emoFiCoins}:await(0,L.kg)(a),n(a)}}})()}),[]);const a=async()=>{};return(0,d.jsxs)(i.az,{children:[(0,d.jsxs)(r.mg,{children:[(0,d.jsx)("title",{children:"Wallet"}),(0,d.jsx)("meta",{name:"description",content:"EmoFi"})]}),(0,d.jsxs)(s.B,{h:"100vh",w:W,py:20,px:2,spacing:8,children:[e&&(0,d.jsxs)(s.B,{borderRadius:8,p:2,spacing:4,alignItems:"center",children:[(0,d.jsx)(m,{children:(0,d.jsx)(_,{size:"xl",name:e.username,src:""})}),(0,d.jsx)(C.E,{fontSize:"16px",lineHeight:"20px",fontWeight:"bold",textAlign:"center",color:"white",children:e.username})]}),(0,d.jsxs)(s.B,{spacing:4,flex:1,justifyContent:"center",children:[(0,d.jsx)(N.z,{spacing:2,children:(0,d.jsx)(C.E,{color:"white",fontSize:16,fontWeight:"700",children:"Wallet TON"})}),(0,d.jsx)(E.MJ,{style:{alignSelf:"center",justifyContent:"center"}}),(0,d.jsx)(S.$,{leftIcon:(0,d.jsx)(B.vsi,{color:"white",size:24}),colorScheme:"cyan",variant:"solid",borderRadius:"full",fontSize:16,onClick:async()=>{console.log("Start Bot 0");const e=new I.cC("7192930476:AAHacE6OvBdRg3wGTtdykYnMO8CboruT3oQ"),n=await e.api.createInvoiceLink("Test Product","Test description","{}","","XTR",[{amount:1,label:"Test Product"}]);console.log("invoiceLink ",n),A.A.openInvoice(n,(e=>{console.log("Status ",e)})),console.log("Start Bot 1")},children:(0,d.jsx)(C.E,{fontSize:16,textAlign:"center",color:"white",children:"Buy Star"})})]})]})]})}},81374:(e,n,a)=>{a.d(n,{$:()=>x});var t=a(9950);var r=a(80221),[i,s]=(0,r.q)({strict:!1,name:"ButtonGroupContext"}),o=a(26306),c=a(97681),l=a(44414);function d(e){const{children:n,className:a,...r}=e,i=(0,t.isValidElement)(n)?(0,t.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,s=(0,c.cx)("chakra-button__icon",a);return(0,l.jsx)(o.B.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}d.displayName="ButtonIcon";var m=a(40063);function u(e){const{label:n,placement:a,spacing:r="0.5rem",children:i=(0,l.jsx)(m.y,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:d,...u}=e,p=(0,c.cx)("chakra-button__spinner",s),h="start"===a?"marginEnd":"marginStart",g=(0,t.useMemo)((()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[h]:n?r:0,fontSize:"1em",lineHeight:"normal",...d})),[d,n,h,r]);return(0,l.jsx)(o.B.div,{className:p,...u,__css:g,children:i})}u.displayName="ButtonSpinner";var p=a(87237),h=a(58039),g=a(66296),f=a(82867),x=(0,h.R)(((e,n)=>{const a=s(),r=(0,g.Vl)("Button",{...a,...e}),{isDisabled:i=(null==a?void 0:a.isDisabled),isLoading:d,isActive:m,children:h,leftIcon:x,rightIcon:v,loadingText:y,iconSpacing:b="0.5rem",type:w,spinner:_,spinnerPlacement:C="start",className:N,as:S,...k}=(0,f.MN)(e),B=(0,t.useMemo)((()=>{const e={...null==r?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!a&&{_focus:e}}}),[r,a]),{ref:I,type:A}=function(e){const[n,a]=(0,t.useState)(!e);return{ref:(0,t.useCallback)((e=>{e&&a("BUTTON"===e.tagName)}),[]),type:n?"button":void 0}}(S),E={rightIcon:v,leftIcon:x,iconSpacing:b,children:h};return(0,l.jsxs)(o.B.button,{ref:(0,p.SV)(n,I),as:S,type:null!=w?w:A,"data-active":(0,c.sE)(m),"data-loading":(0,c.sE)(d),__css:B,className:(0,c.cx)("chakra-button",N),...k,disabled:i||d,children:[d&&"start"===C&&(0,l.jsx)(u,{className:"chakra-button__spinner--start",label:y,placement:"start",spacing:b,children:_}),d?y||(0,l.jsx)(o.B.span,{opacity:0,children:(0,l.jsx)(j,{...E})}):(0,l.jsx)(j,{...E}),d&&"end"===C&&(0,l.jsx)(u,{className:"chakra-button__spinner--end",label:y,placement:"end",spacing:b,children:_})]})}));function j(e){const{leftIcon:n,rightIcon:a,children:t,iconSpacing:r}=e;return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)(d,{marginEnd:r,children:n}),t,a&&(0,l.jsx)(d,{marginStart:r,children:a})]})}x.displayName="Button"}}]);