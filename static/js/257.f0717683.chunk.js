"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[257],{70712:(e,r,a)=>{a.d(r,{kg:()=>o,Y_:()=>i,wz:()=>c});var n=a(66220);const s=(0,a(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),t=(0,n.aU)(s),i=async()=>{try{let e;const r=(0,n.H9)(t,"configs","configs"),a=await(0,n.x7)(r);return a.exists()&&(e=a.data()),e}catch(e){console.error("Error getUser: ",e)}},o=async e=>{let{id:r,username:a,emoFiCoins:s}=e;try{await(0,n.BN)((0,n.H9)(t,"users","".concat(r)),{id:"".concat(r),username:a,emoFiCoins:s,language:"en",faceEmo:"S0",emojis:["S0"],anys:[],skills:[],cards:[],createdAt:new Date,updateAt:new Date})}catch(i){console.error("Error createUser: ",i)}},c=async e=>{try{let r;const a=(0,n.H9)(t,"users","".concat(e)),s=await(0,n.x7)(a);return s.exists()&&(r=s.data()),r}catch(r){console.error("Error getUser: ",r)}}},37257:(e,r,a)=>{a.r(r),a.d(r,{WalletPage:()=>I});var n=a(9950),s=a(76455),t=a(63247),i=a(61530),o=a(97681),c=a(58039),l=a(26306),d=a(44414);(0,c.R)((function(e,r){const{spacing:a="0.5rem",spacingX:s,spacingY:t,children:i,justify:c,direction:m,align:g,className:f,shouldWrapChildren:p,...h}=e,x=(0,n.useMemo)((()=>p?n.Children.map(i,((e,r)=>(0,d.jsx)(u,{children:e},r))):i),[i,p]);return(0,d.jsx)(l.B.div,{ref:r,className:(0,o.cx)("chakra-wrap",f),...h,children:(0,d.jsx)(l.B.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:c,alignItems:g,flexDirection:m,listStyleType:"none",gap:a,columnGap:s,rowGap:t,padding:"0"},children:x})})})).displayName="Wrap";var u=(0,c.R)((function(e,r){const{className:a,...n}=e;return(0,d.jsx)(l.B.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:(0,o.cx)("chakra-wrap__listitem",a),...n})}));u.displayName="WrapItem";var m=a(80221),[g,f]=(0,m.q)({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function p(e){var r;const a=e.split(" "),n=null!=(r=a[0])?r:"",s=a.length>1?a[a.length-1]:"";return n&&s?"".concat(n.charAt(0)).concat(s.charAt(0)):n.charAt(0)}function h(e){const{name:r,getInitials:a,...n}=e,s=f();return(0,d.jsx)(l.B.div,{role:"img","aria-label":r,...n,__css:s.label,children:r?null==a?void 0:a(r):null})}h.displayName="AvatarName";var x=e=>(0,d.jsxs)(l.B.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...e,children:[(0,d.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,d.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),v=a(35812);function j(e){const{src:r,srcSet:a,onError:s,onLoad:t,getInitials:i,name:o,borderRadius:c,loading:u,iconLabel:m,icon:g=(0,d.jsx)(x,{}),ignoreFallback:f,referrerPolicy:p,crossOrigin:j}=e,y=(0,v.l)({src:r,onError:s,crossOrigin:j,ignoreFallback:f});return!r||!("loaded"===y)?o?(0,d.jsx)(h,{className:"chakra-avatar__initials",getInitials:i,name:o}):(0,n.cloneElement)(g,{role:"img","aria-label":m}):(0,d.jsx)(l.B.img,{src:r,srcSet:a,alt:o,onLoad:t,referrerPolicy:p,crossOrigin:null!=j?j:void 0,className:"chakra-avatar__img",loading:u,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:c}})}j.displayName="AvatarImage";var y=a(66296),b=a(82867),w={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},C=(0,c.R)(((e,r)=>{const a=(0,y.o5)("Avatar",e),[s,t]=(0,n.useState)(!1),{src:i,srcSet:c,name:u,showBorder:m,borderRadius:f="full",onError:h,onLoad:v,getInitials:C=p,icon:N=(0,d.jsx)(x,{}),iconLabel:k=" avatar",loading:_,children:A,borderColor:E,ignoreFallback:I,crossOrigin:S,referrerPolicy:B,...L}=(0,b.MN)(e),F={borderRadius:f,borderWidth:m?"2px":void 0,...w,...a.container};return E&&(F.borderColor=E),(0,d.jsx)(l.B.span,{ref:r,...L,className:(0,o.cx)("chakra-avatar",e.className),"data-loaded":(0,o.sE)(s),__css:F,children:(0,d.jsxs)(g,{value:a,children:[(0,d.jsx)(j,{src:i,srcSet:c,loading:_,onLoad:(0,o.Hj)(v,(()=>{t(!0)})),onError:h,getInitials:C,name:u,borderRadius:f,icon:N,iconLabel:k,ignoreFallback:I,crossOrigin:S,referrerPolicy:B}),A]})})}));C.displayName="Avatar";var N=a(3731),k=a(22238),_=a(93660),A=a(70712);let E=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const I=()=>{const{user:e}=(0,n.useContext)(k.j8);console.log("user ",e);const{setUser:r}=n.useContext(k.LN);(0,n.useEffect)((()=>{a(),(async()=>{var a;const n=null===(a=window.Telegram)||void 0===a?void 0:a.WebApp;if(n&&!e){n.ready();const e=n.initDataUnsafe.user;if(e){let a={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};const n=await(0,A.wz)(a.id);n?a={...a,emoFiCoins:n.emoFiCoins}:await(0,A.kg)(a),r(a)}}})()}),[]);const a=async()=>{};return(0,d.jsxs)(t.az,{children:[(0,d.jsxs)(s.mg,{children:[(0,d.jsx)("title",{children:"Wallet"}),(0,d.jsx)("meta",{name:"description",content:"EmoFi"})]}),(0,d.jsxs)(i.B,{h:"100vh",w:E,py:20,px:2,spacing:8,children:[e&&(0,d.jsxs)(i.B,{borderRadius:8,p:2,spacing:4,alignItems:"center",children:[(0,d.jsx)(u,{children:(0,d.jsx)(C,{size:"xl",name:e.username,src:""})}),(0,d.jsx)(N.E,{fontSize:"16px",lineHeight:"20px",fontWeight:"bold",textAlign:"center",color:"white",children:e.username}),(0,d.jsx)(_.MJ,{style:{alignSelf:"center",justifyContent:"center"}})]}),(0,d.jsx)(i.B,{spacing:4,flex:1,justifyContent:"center"})]})]})}},35812:(e,r,a)=>{a.d(r,{l:()=>t,m:()=>i});var n=a(61792),s=a(9950);function t(e){const{loading:r,src:a,srcSet:t,onLoad:i,onError:o,crossOrigin:c,sizes:l,ignoreFallback:d}=e,[u,m]=(0,s.useState)("pending");(0,s.useEffect)((()=>{m(a?"loading":"pending")}),[a]);const g=(0,s.useRef)(),f=(0,s.useCallback)((()=>{if(!a)return;p();const e=new Image;e.src=a,c&&(e.crossOrigin=c),t&&(e.srcset=t),l&&(e.sizes=l),r&&(e.loading=r),e.onload=e=>{p(),m("loaded"),null==i||i(e)},e.onerror=e=>{p(),m("failed"),null==o||o(e)},g.current=e}),[a,c,t,l,i,o,r]),p=()=>{g.current&&(g.current.onload=null,g.current.onerror=null,g.current=null)};return(0,n.U)((()=>{if(!d)return"loading"===u&&f(),()=>{p()}}),[u,f,d]),d?"loaded":u}var i=(e,r)=>"loaded"!==e&&"beforeLoadOrError"===r||"failed"===e&&"onError"===r},3731:(e,r,a)=>{a.d(r,{E:()=>l});var n=a(58039),s=a(66296),t=a(82867),i=a(26306),o=a(97681);var c=a(44414),l=(0,n.R)((function(e,r){const a=(0,s.Vl)("Text",e),{className:n,align:l,decoration:d,casing:u,...m}=(0,t.MN)(e),g=function(e){const r=Object.assign({},e);for(let a in r)void 0===r[a]&&delete r[a];return r}({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,c.jsx)(i.B.p,{ref:r,className:(0,o.cx)("chakra-text",e.className),...g,...m,__css:a})}));l.displayName="Text"}}]);