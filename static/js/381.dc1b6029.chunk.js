"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[381],{70712:(e,n,o)=>{o.d(n,{k:()=>a,w:()=>c});var t=o(66220);const i=(0,o(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),s=(0,t.aU)(i),a=async e=>{let{id:n,username:o,emoFiCoins:i}=e;try{console.log("Kai id ",n),console.log("Kai username ",o),console.log("Kai emoFiCoins ",i),await(0,t.BN)((0,t.H9)(s,"users",n),{id:n,username:o,emoFiCoins:i})}catch(a){console.error("Error createUser: ",a)}},c=async e=>{try{let n;const o=(0,t.H9)(s,"users",e),i=await(0,t.x7)(o);return i.exists()&&(n=i.data()),n}catch(n){console.error("Error getUser: ",n)}}},45381:(e,n,o)=>{o.r(n),o.d(n,{WalletPage:()=>y});var t=o(9950),i=o(76455),s=o(63247),a=o(61530),c=o(27009),r=o(46206),l=o(3731),d=o(34418),m=o(81374),u=o(22238),h=o(6365),p=o(42691),f=o(32119),g=o(93660),x=o(70712),w=o(44414);let j=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const y=()=>{const{user:e}=(0,t.useContext)(u.j8);console.log("user ",e);const{setUser:n}=t.useContext(u.LN);(0,t.useEffect)((()=>{o(),(async()=>{var o;const t=null===(o=window.Telegram)||void 0===o?void 0:o.WebApp;if(t&&!e){t.ready();const e=t.initDataUnsafe.user;if(e){let o={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};const t=await(0,x.w)(o.id);t?o={...o,emoFiCoins:t.emoFiCoins}:await(0,x.k)(o),n(o)}}})()}),[]);const o=async()=>{};return(0,w.jsxs)(s.az,{children:[(0,w.jsxs)(i.mg,{children:[(0,w.jsx)("title",{children:"Wallet"}),(0,w.jsx)("meta",{name:"description",content:"EmoFi"})]}),(0,w.jsxs)(a.B,{h:"100vh",w:j,py:20,px:2,spacing:8,children:[e&&(0,w.jsxs)(a.B,{borderRadius:8,p:2,spacing:4,alignItems:"center",children:[(0,w.jsx)(c.Q,{children:(0,w.jsx)(r.e,{size:"xl",name:e.username,src:""})}),(0,w.jsx)(l.E,{fontSize:"16px",lineHeight:"20px",fontWeight:"bold",textAlign:"center",color:"white",children:e.username})]}),(0,w.jsxs)(a.B,{spacing:4,flex:1,justifyContent:"center",children:[(0,w.jsx)(d.z,{spacing:2,children:(0,w.jsx)(l.E,{color:"white",fontSize:16,fontWeight:"700",children:"Wallet TON"})}),(0,w.jsx)(g.MJ,{style:{alignSelf:"center",justifyContent:"center"}}),(0,w.jsx)(m.$,{leftIcon:(0,w.jsx)(h.vsi,{color:"white",size:24}),colorScheme:"cyan",variant:"solid",borderRadius:"full",fontSize:16,onClick:async()=>{console.log("Start Bot 0");const e=new p.cC("7192930476:AAHacE6OvBdRg3wGTtdykYnMO8CboruT3oQ"),n=await e.api.createInvoiceLink("Test Product","Test description","{}","","XTR",[{amount:1,label:"Test Product"}]);console.log("invoiceLink ",n),f.A.openInvoice(n,(e=>{console.log("Status ",e)})),console.log("Start Bot 1")},children:(0,w.jsx)(l.E,{fontSize:16,textAlign:"center",color:"white",children:"Buy Star"})})]})]})]})}}}]);